<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentina ‚Äì Premium (FR/NL)</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>

<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="title" id="ui_title">Valentina ‚Äì Entra√Ænement premium</div>
        <div class="subtitle" id="ui_subtitle">Maths ‚Ä¢ Logique ‚Ä¢ Sc√©narios ‚Äî avec records, th√®mes et explications.</div>
      </div>
      <div class="actions">
        <span class="pill"><span class="dot"></span><span id="ui_userPill">Utilisateur : Valentina</span></span>
        <span class="pill">üèÜ <span id="ui_bestPill">Record</span>: <b id="bestAllPill">0%</b></span>
        <span class="pill">üî• <span id="ui_streakPill">Streak</span>: <b id="streakPill">0</b></span>
        <button id="langBtn">FR ‚Üí NL</button>
        <div id="fireWidget"><span class="fireIcon">üî•üî•</span> <span id="fireCount">0</span></div>
        <span class="pill xpPill">
          Lvl <b id="levelPill">1</b>
          <div class="xpBar">
            <div id="xpBarInner"></div>
          </div>
        </span>
        <button id="themeBtn">Th√®me</button>
        <button id="homeBtn" class="btnPrimary">Dashboard</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div id="errorBar" class="errorBar"></div>

    <!-- BADGE TOAST -->
    <div id="badgeToast" class="badgeToast">
      <div class="badgeToastIcon">üèÖ</div>
      <div class="badgeToastText">
        <div class="badgeToastTitle">Nouveau Badge !</div>
        <div class="badgeToastDesc">Tu as d√©bloqu√© un succ√®s.</div>
      </div>
    </div>

    <!-- HOME -->
    <div id="viewHome">
      <!-- PET PANEL -->
      <div class="petPanel">
        <div class="petAvatar" id="petAvatar">ü•ö</div>
        <div class="petName" id="petName">Oeuf Myst√®re</div>
        <div class="petStatus" id="petStatus">Niveau 1 requis pour √©clore...</div>
      </div>

      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_overviewTitle">Aper√ßu</h2>
          <div class="meta" id="ui_overviewMeta">3 univers : Maths ‚Ä¢ Logique ‚Ä¢ Sc√©narios. Choisis un module.</div>
        </div>
        <div class="divider"></div>

        <div class="kpis">
          <div class="kpi">
            <div class="label" id="ui_kpi_best">Meilleur score (tous)</div>
            <div class="value ok" id="kpiBest">0%</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_kpi_streak">S√©rie (jours)</div>
            <div class="value" id="kpiStreak">0</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_kpi_sessions">Sessions</div>
            <div class="value" id="kpiSessions">0</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_kpi_badges" style="cursor:pointer; text-decoration:underline">Badges</div>
            <div class="value" id="kpiBadges">0</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="cards" id="moduleCards">
          <!-- Filled by JS (guaranteed) -->
        </div>
      </div>

      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_historyTitle">Historique & motivation</h2>
          <div class="meta" id="ui_historyMeta">On garde les derni√®res sessions pour te motiver.</div>
        </div>
        <div class="divider"></div>
        <div class="history" id="historyList"></div>
      </div>
    </div>

    <!-- MATH -->
    <div id="viewMath" class="hidden">
      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_math_dash">Math√©matiques</h2>
          <div class="meta" id="ui_math_dash_meta">G√©n√®re 20‚Äì30 exercices + tactiques de division.</div>
        </div>

        <div class="toolbar">
          <div class="left">
            <label class="small" id="ui_countLbl">Exercices</label>
            <select id="mathCount">
              <option>10</option>
              <option selected>20</option>
              <option>30</option>
            </select>

            <label class="small" id="ui_maxLbl">Max</label>
            <input id="mathMax" type="number" min="100" max="10000" step="10" value="10000" />

            <label class="small" id="ui_levelLbl">Niveau</label>
            <select id="mathLevel">
              <option value="easy" selected>Facile</option>
              <option value="mid">Moyen</option>
              <option value="hard">Difficile</option>
            </select>

            <label class="small" id="ui_math_modeLbl">Mode</label>
            <select id="mathMode">
              <option value="mix" selected>Mix</option>
              <option value="divfocus">Division (tactiques)</option>
              <option value="mulfocus">Multiplication</option>
            </select>
          </div>
          <div class="right">
            <button id="startMath" class="btnPrimary">D√©marrer</button>
            <button id="checkMath">Corriger</button>
            <button id="retryMath">Refaire erreurs</button>
            <button id="backFromMath">‚Üê Dashboard</button>
          </div>
        </div>

        <div class="qList" id="mathList"></div>

        <div class="divider"></div>
        <div class="kpis" id="mathKpis">
          <div class="kpi">
            <div class="label" id="ui_s_score">Score</div>
            <div class="value ok" id="mathScore">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_ok">Correct</div>
            <div class="value ok" id="mathOk">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_bad">Incorrect</div>
            <div class="value bad" id="mathBad">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_best">Record</div>
            <div class="value" id="mathBest2">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_time">Temps</div>
            <div class="value" id="mathTimer">00:00</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_best_time">Record temps</div>
            <div class="value" id="mathBestTime">‚Äî</div>
          </div>
        </div>
      </div>
    </div>

    <!-- LOGIC -->
    <div id="viewLogic" class="hidden">
      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_logic_dash">Logique</h2>
          <div class="meta" id="ui_logic_dash_meta">Suites ‚Ä¢ Intrus ‚Ä¢ R√®gles.</div>
        </div>

        <div class="toolbar">
          <div class="left">
            <label class="small" id="ui_countLbl2">Exercices</label>
            <select id="logicCount">
              <option>10</option>
              <option selected>20</option>
              <option>30</option>
            </select>

            <label class="small" id="ui_logic_kindLbl">Type</label>
            <select id="logicKind">
              <option value="mix" selected>Mix</option>
              <option value="sequence">Suite</option>
              <option value="odd">Intrus</option>
              <option value="rule">R√®gle</option>
              <option value="color">Couleurs</option>
            </select>
          </div>
          <div class="right">
            <button id="startLogic" class="btnPrimary">D√©marrer</button>
            <button id="checkLogic">Corriger</button>
            <button id="retryLogic">Refaire erreurs</button>
            <button id="backFromLogic">‚Üê Dashboard</button>
          </div>
        </div>

        <div class="qList" id="logicList"></div>

        <div class="divider"></div>
        <div class="kpis">
          <div class="kpi">
            <div class="label" id="ui_s_score2">Score</div>
            <div class="value ok" id="logicScore">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_ok2">Correct</div>
            <div class="value ok" id="logicOk">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_bad2">Incorrect</div>
            <div class="value bad" id="logicBad">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_best2b">Record</div>
            <div class="value" id="logicBest2">‚Äî</div>
          </div>
        </div>
      </div>
    </div>

    <!-- STORY -->
    <div id="viewStory" class="hidden">
      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_story_dash">Sc√©narios</h2>
          <div class="meta" id="ui_story_dash_meta">Probl√®mes en contexte (piscine, bo√Ætes, √©cole‚Ä¶).</div>
        </div>

        <div class="toolbar">
          <div class="left">
            <label class="small" id="ui_countLbl3">Exercices</label>
            <select id="storyCount">
              <option>8</option>
              <option selected>12</option>
              <option>20</option>
            </select>

            <label class="small" id="ui_story_themeLbl">Th√®me</label>
            <select id="storyTheme">
              <option value="mix" selected>Mix</option>
              <option value="swim">Piscine</option>
              <option value="boxes">Bo√Ætes</option>
              <option value="school">√âcole</option>
              <option value="shop">Magasin</option>
              <option value="cinema">Cin√©</option>
              <option value="garden">Jardin</option>
              <option value="cooking">Cuisine</option>
            </select>
          </div>
          <div class="right">
            <button id="startStory" class="btnPrimary">D√©marrer</button>
            <button id="checkStory">Corriger</button>
            <button id="retryStory">Refaire erreurs</button>
            <button id="backFromStory">‚Üê Dashboard</button>
          </div>
        </div>

        <div class="qList" id="storyList"></div>

        <div class="divider"></div>
        <div class="kpis">
          <div class="kpi">
            <div class="label" id="ui_s_score3">Score</div>
            <div class="value ok" id="storyScore">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_ok3">Correct</div>
            <div class="value ok" id="storyOk">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_bad3">Incorrect</div>
            <div class="value bad" id="storyBad">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label" id="ui_s_best3">Record</div>
            <div class="value" id="storyBest2">‚Äî</div>
          </div>
        </div>
      </div>
    </div>

    <!-- EXAM (SURPRISE) -->
    <div id="viewExam" class="hidden">
      <div class="panel">
        <div class="sectionTitle">
          <h2 id="ui_exam_dash">Examen Sorpresa</h2>
          <div class="meta" id="ui_exam_dash_meta">M√©lange de tout ! Pr√™te ?</div>
        </div>

        <div class="toolbar">
          <div class="left">
            <label class="small">M√©lange</label>
            <span class="pill">Maths + Logique + Sc√©narios</span>
          </div>
          <div class="right">
            <button id="startExam" class="btnPrimary">G√©n√©rer l'examen</button>
            <button id="checkExam">Corriger</button>
            <button id="backFromExam">‚Üê Dashboard</button>
          </div>
        </div>

        <div class="qList" id="examList"></div>

        <div class="divider"></div>
        <div class="kpis">
          <div class="kpi">
            <div class="label">Score</div>
            <div class="value ok" id="examScore">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label">Correct</div>
            <div class="value ok" id="examOk">‚Äî</div>
          </div>
          <div class="kpi">
            <div class="label">Incorrect</div>
            <div class="value bad" id="examBad">‚Äî</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- WELCOME -->
  <div class="modalBack" id="welcomeBack">
    <div class="modal">
      <h3 id="ui_welcomeTitle">Bonjour Valentina üëã</h3>
      <p id="ui_welcomeText">Pr√™te pour une nouvelle session ?</p>
      <div class="modalRow">
        <div>
          <label id="ui_nameLbl">Nom</label>
          <input id="nameInput" type="text" placeholder="Valentina" />
        </div>
        <div>
          <label id="ui_goalLbl">Objectif (min/jour)</label>
          <select id="goalSelect">
            <option>5</option>
            <option selected>10</option>
            <option>15</option>
            <option>20</option>
          </select>
        </div>
      </div>
      <div class="divider"></div>
      <div class="modalRow">
        <button id="welcomeMath" class="btnPrimary">Maths</button>
        <button id="welcomeLogic">Logique</button>
        <button id="welcomeStory">Sc√©narios</button>
      </div>
      <div class="smallNote" id="ui_welcomeNote">Record et s√©rie sont sauvegard√©s sur cet appareil.</div>
    </div>
  </div>

  <!-- THEME -->
  <div class="modalBack" id="themeBack">
    <div class="modal">
      <h3 id="ui_themeTitle">Th√®me</h3>
      <p id="ui_themeText">Choisis un style ou personnalise.</p>

      <div class="presetRow" style="margin-bottom:12px">
        <div class="preset" data-preset="ocean" style="--p1:#4c6fff;--p2:#00d4ff"></div>
        <div class="preset" data-preset="violet" style="--p1:#8a5bff;--p2:#ff5bd6"></div>
        <div class="preset" data-preset="mint" style="--p1:#35d07f;--p2:#4c6fff"></div>
        <div class="preset" data-preset="sunset" style="--p1:#ff7a59;--p2:#8a5bff"></div>
        <div class="preset" data-preset="gold" style="--p1:#ffcc66;--p2:#ff5b6e"></div>
      </div>

      <div class="modalRow">
        <div><label id="ui_accentLbl">Accent</label><input id="accentPick" type="color" value="#4c6fff" /></div>
        <div><label id="ui_accent2Lbl">Accent 2</label><input id="accent2Pick" type="color" value="#8a5bff" /></div>
      </div>
      <div class="modalRow" style="margin-top:10px">
        <div><label id="ui_bgLbl">Fond (haut)</label><input id="bg0Pick" type="color" value="#070a14" /></div>
        <div><label id="ui_bg2Lbl">Fond (bas)</label><input id="bg1Pick" type="color" value="#0b1020" /></div>
      </div>

      <div class="divider"></div>
      <div class="modalRow">
        <button id="saveTheme" class="btnPrimary">Enregistrer</button>
        <button id="closeTheme">Fermer</button>
      </div>
      <div class="smallNote" id="ui_themeNote">Sauvegarde locale (pas de compte).</div>
    </div>
  </div>

  <!-- LEVEL UP MODAL -->
  <div class="modalBack" id="levelUpBack">
    <div class="modal levelUpModal">
      <div class="trophy">üèÜ</div>
      <h3 style="font-size: 24px; color: var(--accent2)">Niveau Sup√©rieur !</h3>
      <div class="levelNumber" id="ui_newLevel">2</div>
      <p>Incroyable ! Tu deviens super forte ! üéâ</p>
      <button id="closeLevelUp" class="btnPrimary" style="font-size:16px; padding: 12px 24px;">G√©nial !</button>
    </div>
  </div>

  <!-- BADGES MODAL -->
  <div class="modalBack" id="badgesBack">
    <div class="modal">
      <h3>Mes Badges</h3>
      <p>Collectionne-les tous !</p>
      <div class="badgeGrid" id="badgeGrid"></div>
      <div style="margin-top:16px; text-align:center"><button id="closeBadges">Fermer</button></div>
    </div>
  </div>
</body>

</html>